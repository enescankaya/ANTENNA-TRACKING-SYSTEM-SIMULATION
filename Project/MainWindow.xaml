<Window x:Class="Project.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:WindowsPresentation="clr-namespace:GMap.NET.WindowsPresentation;assembly=GMap.NET.WindowsPresentation"
        Title="RSSI Antenna Tracker" Height="800" Width="1200" 
        Background="#FF1A1A1A" 
        Loaded="MainWindow_Loaded">

    <Window.Resources>
        <!-- Yeni effect tanımı ekle -->
        <DropShadowEffect x:Key="GlowEffect" 
                         ShadowDepth="0" 
                         BlurRadius="8" 
                         Color="White"/>

        <!-- Improved Modern Button Style -->
        <Style x:Key="ModernButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#FF2D2D2D"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#FF3D3D3D"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4">
                            <Grid>
                                <ContentPresenter HorizontalAlignment="Center" 
                                                VerticalAlignment="Center"/>
                                <Border x:Name="Overlay" 
                                        Background="White" 
                                        Opacity="0"
                                        CornerRadius="4"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Overlay" Property="Opacity" Value="0.1"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Overlay" Property="Opacity" Value="0.2"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Improved TextBox Style -->
        <Style x:Key="ModernTextBoxStyle" TargetType="TextBox">
            <Setter Property="Background" Value="#FF2D2D2D"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#FF3D3D3D"/>
            <Setter Property="Padding" Value="8,5"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4">
                            <Grid>
                                <ScrollViewer x:Name="PART_ContentHost" Margin="2"/>
                                <TextBlock Text="{TemplateBinding Tag}" 
                                         Margin="8,0,0,0"
                                         VerticalAlignment="Center"
                                         Foreground="#FF808080">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Text.Length, RelativeSource={RelativeSource Mode=TemplatedParent}}" Value="0">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Text.Length, RelativeSource={RelativeSource Mode=TemplatedParent}}" Value="{x:Null}">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Text.Length, RelativeSource={RelativeSource Mode=TemplatedParent}}" Value="0">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding Text.Length, RelativeSource={RelativeSource Mode=TemplatedParent}}" Value="0" />
                                                        <Condition Binding="{Binding IsFocused, RelativeSource={RelativeSource Mode=TemplatedParent}}" Value="True" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Signal Strength Bar Style -->
        <Style x:Key="SignalStrengthBarStyle" TargetType="ProgressBar">
            <Setter Property="Height" Value="4"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ProgressBar">
                        <Grid>
                            <Border Background="#FF2D2D2D" 
                                    CornerRadius="2"/>
                            <Border x:Name="PART_Indicator" 
                                    Background="{TemplateBinding Foreground}"
                                    CornerRadius="2"
                                    HorizontalAlignment="Left">
                                <Border.Effect>
                                    <DropShadowEffect ShadowDepth="0" 
                                                    BlurRadius="10" 
                                                    Color="{Binding Background.Color, ElementName=PART_Indicator}"/>
                                </Border.Effect>
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Modern Panel Style -->
        <Style x:Key="ModernPanelStyle" TargetType="Border">
            <Setter Property="Background" Value="#FF2D2D2D"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#FF3D3D3D"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect ShadowDepth="0" 
                                    BlurRadius="10" 
                                    Color="#40000000"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Map Control Button Style -->
        <Style x:Key="MapControlButtonStyle" TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="Background" Value="#C0000000"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#40FFFFFF"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1"
                                CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#E0000000"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <!-- Sağ panel için genişlik animasyonu -->
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto" x:Name="rightPanelColumn"/>
        </Grid.ColumnDefinitions>

        <!-- Map and Radar Section -->
        <Border Grid.Column="0" Style="{StaticResource ModernPanelStyle}">
            <Grid>
                <!-- Map Control -->
                <WindowsPresentation:GMapControl x:Name="MapControl" 
                                               Margin="5"
                                               MinZoom="2" 
                                               MaxZoom="17" 
                                               Zoom="13"
                                               Panel.ZIndex="0"/>

                <!-- Radar Overlay -->
                <Canvas x:Name="MapCanvas" Background="Transparent" IsHitTestVisible="True">
                    <Canvas x:Name="RadarElementsCanvas" Background="{x:Null}" IsHitTestVisible="False">
                        <!-- Radar Background - Boyutu küçültüldü -->
                        <Ellipse x:Name="RadarBackground"
                                Width="200" Height="200"
                                Fill="#20FFFFFF"
                                Stroke="#40FFFFFF"
                                StrokeThickness="1">
                            <Ellipse.Effect>
                                <BlurEffect Radius="2"/>
                            </Ellipse.Effect>
                        </Ellipse>

                        <!-- Radar Grid Lines - Boyutu küçültüldü -->
                        <Path x:Name="RadarGrid" Stroke="#30FFFFFF" StrokeThickness="1">
                            <Path.Data>
                                <GeometryGroup>
                                    <EllipseGeometry Center="100,100" RadiusX="50" RadiusY="50"/>
                                    <EllipseGeometry Center="100,100" RadiusX="75" RadiusY="75"/>
                                    <LineGeometry StartPoint="0,100" EndPoint="200,100"/>
                                    <LineGeometry StartPoint="100,0" EndPoint="100,200"/>
                                </GeometryGroup>
                            </Path.Data>
                        </Path>

                        <!-- Radar Sweep - Boyutu küçültüldü -->
                        <Path x:Name="RadarSweep" Fill="#4000FF00" Width="100" Height="100">
                            <Path.Effect>
                                <BlurEffect Radius="5"/>
                            </Path.Effect>
                        </Path>

                        <!-- Scanning antenna line - daha belirgin ve opak -->
                        <Line Stroke="#FF00FF00" 
                              StrokeThickness="5" 
                              Opacity="1.0"
                              Effect="{StaticResource GlowEffect}"
                              StrokeDashArray="6,2"/>

                        <!-- Directional antenna line -->
                        <Line Stroke="#FF00A0FF"
                              StrokeThickness="3"
                              Opacity="0.8"
                              Effect="{StaticResource GlowEffect}"/>
                    </Canvas>

                    <!-- Controls Canvas -->
                    <Canvas x:Name="ControlsCanvas" Background="{x:Null}" IsHitTestVisible="True" Panel.ZIndex="1000">
                        <Button x:Name="CenterMapButton"
                                Content="⌖"
                                Width="32"
                                Height="32"
                                Style="{StaticResource MapControlButtonStyle}"
                                Canvas.Left="10"
                                Canvas.Top="10"
                                Panel.ZIndex="1000"
                                IsHitTestVisible="True"
                                Click="CenterMapButton_Click"/>
                    </Canvas>
                </Canvas>

                <!-- HUD Overlay -->

                <!-- Toggle Panel Button -->
                <Grid x:Name="ToggleButtonContainer" 
                      HorizontalAlignment="Right" 
                      VerticalAlignment="Center"
                      Panel.ZIndex="1000">
                    <Button x:Name="TogglePanelButton"
                            Content="⟨"
                            Width="24"
                            Height="80"
                            Style="{StaticResource ModernButtonStyle}"
                            Background="#80000000"
                            Click="TogglePanelButton_Click"/>
                </Grid>

                <!-- Custom HUD Overlay -->
                <Border Width="300" Height="200"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Bottom"
                        Name="HUDContainer"
                        Margin="250,20,250,20"
                        Background="#40000000"
                        BorderBrush="#2000FF00"
                        BorderThickness="1"
                        CornerRadius="5">
                    <Grid Name="HUDGrid">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Sol taraf - Attitude Indicator -->
                        <Grid Grid.Column="0">
                            <Border Background="#40000000" 
                                    BorderBrush="#80FFFFFF"
                                    BorderThickness="1"
                                    CornerRadius="5">
                                <!-- Artificial Horizon with Pitch Ladder -->
                                <Canvas x:Name="ArtificialHorizon" 
                                        Width="150" Height="150"
                                        ClipToBounds="True">
                                    <Rectangle Width="150" Height="75" Fill="#40204060" Canvas.Top="0"/>
                                    <Rectangle Width="150" Height="75" Fill="#40604020" Canvas.Top="75"/>

                                    <!-- Pitch Ladder Lines -->
                                    <Line X1="30" Y1="45" X2="120" Y2="45" Stroke="White" StrokeThickness="1"/>
                                    <!-- +10 derece -->
                                    <Line X1="30" Y1="75" X2="120" Y2="75" Stroke="White" StrokeThickness="2"/>
                                    <!-- 0 derece -->
                                    <Line X1="30" Y1="105" X2="120" Y2="105" Stroke="White" StrokeThickness="1"/>
                                    <!-- -10 derece -->

                                    <!-- Pitch Values - Canvas.Left ve Canvas.Top değerleri UpdateArtificialHorizon'da dinamik olarak ayarlanacak -->
                                    <TextBlock x:Name="LeftPitchValue" 
                                              Canvas.Left="5" 
                                              Foreground="White" 
                                              FontSize="12">
                                        <Run Text="+10°"/>
                                        <Run Text="→"/>
                                    </TextBlock>
                                    <TextBlock x:Name="RightPitchValue" 
                                              Canvas.Right="5" 
                                              Foreground="White" 
                                              FontSize="12">
                                        <Run Text="←"/>
                                        <Run Text="+10°"/>
                                    </TextBlock>

                                    <TextBlock x:Name="LeftCurrentPitch" 
                                              Canvas.Left="5" 
                                              Foreground="White" 
                                              FontSize="12">
                                        <Run Text="0°"/>
                                        <Run Text="→"/>
                                    </TextBlock>
                                    <TextBlock x:Name="RightCurrentPitch" 
                                              Canvas.Right="5" 
                                              Foreground="White" 
                                              FontSize="12">
                                        <Run Text="←"/>
                                        <Run Text="0°"/>
                                    </TextBlock>

                                    <TextBlock x:Name="LeftLowerPitch" 
                                              Canvas.Left="5" 
                                              Foreground="White" 
                                              FontSize="12">
                                        <Run Text="-10°"/>
                                        <Run Text="→"/>
                                    </TextBlock>
                                    <TextBlock x:Name="RightLowerPitch" 
                                              Canvas.Right="5" 
                                              Foreground="White" 
                                              FontSize="12">
                                        <Run Text="←"/>
                                        <Run Text="-10°"/>
                                    </TextBlock>

                                    <!-- Center Point -->
                                    <Ellipse Width="4" Height="4" Fill="Yellow" 
                                             Canvas.Left="73" Canvas.Top="73"/>
                                </Canvas>
                            </Border>
                            <!-- Bank Angle Indicator -->
                            <Path Stroke="White" StrokeThickness="2"
                                  Data="M 75,10 A 65,65 0 0 1 140,75"
                                  StrokeDashArray="2,2"/>
                            <Path x:Name="RollIndicator"
                                  Fill="Yellow" 
                                  Data="M 75,10 L 80,15 L 70,15 Z"/>
                        </Grid>

                        <!-- Sağ taraf - Sayısal Göstergeler -->
                        <StackPanel Grid.Column="1" Margin="10,5">
                            <!-- Heading -->
                            <Border Background="#40000000" 
                                    CornerRadius="3" 
                                    Margin="0,2">
                                <TextBlock x:Name="HeadingText"
                                          Text="HDG: ---°"
                                          Foreground="#FF00FF00"
                                          FontFamily="Consolas"
                                          FontSize="14"
                                          Margin="5,2"/>
                            </Border>

                            <!-- Altitude -->
                            <Border Background="#40000000" 
                                    CornerRadius="3" 
                                    Margin="0,2">
                                <TextBlock x:Name="AltitudeText"
                                          Text="ALT: --- m ↑"
                                          Foreground="#FF00FF00"
                                          FontFamily="Consolas"
                                          FontSize="14"
                                          Margin="5,2"/>
                            </Border>

                            <!-- Ground Speed -->
                            <Border Background="#40000000" 
                                    CornerRadius="3" 
                                    Margin="0,2">
                                <TextBlock x:Name="SpeedText"
                                          Text="GS: --- m/s"
                                          Foreground="#FF00FF00"
                                          FontFamily="Consolas"
                                          FontSize="14"
                                          Margin="5,2"/>
                            </Border>

                            <!-- Battery -->
                            <Border Background="#40000000" 
                                    CornerRadius="3" 
                                    Margin="0,2">
                                <Grid Margin="5,2">
                                    <TextBlock x:Name="BatteryText"
                                              Text="BAT: ---V"
                                              Foreground="#FF00FF00"
                                              FontFamily="Consolas"
                                              FontSize="14"/>
                                    <ProgressBar x:Name="BatteryIndicator"
                                               Height="4"
                                               Margin="0,20,0,0"
                                               Maximum="100"
                                               Value="0"/>
                                </Grid>
                            </Border>

                            <!-- Throttle -->
                            <Border Background="#40000000" 
                                    CornerRadius="3" 
                                    Margin="0,2">
                                <Grid Margin="5,2">
                                    <TextBlock x:Name="ThrottleText"
                                              Text="THR: ---%"
                                              Foreground="#FF00FF00"
                                              FontFamily="Consolas"
                                              FontSize="14"/>
                                    <ProgressBar x:Name="ThrottleIndicator"
                                               Height="4"
                                               Margin="0,20,0,0"
                                               Maximum="100"
                                               Value="0"/>
                                </Grid>
                            </Border>
                        </StackPanel>

                        <!-- Compass Rose with Better Visibility -->
                        <Border Grid.ColumnSpan="2"
                                Background="#80000000" 
                                Height="30"
                                VerticalAlignment="Bottom"
                                BorderBrush="#80FFFFFF"
                                BorderThickness="1"
                                CornerRadius="3">
                            <Grid>
                                <Canvas x:Name="CompassRose"
                                        Width="280" Height="30"/>
                                <!-- Current Heading Indicator -->
                                <Border Background="#80000000" 
                                        Width="50"
                                        Height="24" 
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Center">
                                    <TextBlock x:Name="CurrentHeadingText"
                                             Foreground="Yellow"
                                             FontSize="14"
                                             HorizontalAlignment="Center"
                                             VerticalAlignment="Center"/>
                                </Border>
                            </Grid>
                        </Border>

                        <!-- Speed Tape - Sol kenar -->
                        <Border HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                Width="40" Height="200"
                                Background="#40000000"
                                BorderBrush="#80FFFFFF"
                                BorderThickness="1"
                                CornerRadius="3"
                                Margin="-45,0,0,0">
                            <Grid>
                                <Canvas x:Name="SpeedTape" ClipToBounds="True"/>
                                <!-- Mevcut hız göstergesi -->
                                <Border Background="#80000000" 
                                        Height="24" 
                                        VerticalAlignment="Center">
                                    <TextBlock x:Name="CurrentSpeedText"
                                             Foreground="Yellow"
                                             FontSize="14"
                                             VerticalAlignment="Center"
                                             HorizontalAlignment="Center"/>
                                </Border>
                            </Grid>
                        </Border>

                        <!-- Altitude Tape - Sağ kenar -->
                        <Border HorizontalAlignment="Right"
                                VerticalAlignment="Center"
                                Width="50" Height="200"
                                Background="#40000000"
                                BorderBrush="#80FFFFFF"
                                BorderThickness="1"
                                CornerRadius="3"
                                Margin="0,0,-55,0"
                                Grid.Column="1">
                            <Grid>
                                <Canvas x:Name="AltitudeTape" ClipToBounds="True"/>
                                <!-- Mevcut değer göstergesi -->
                                <Border Background="#80000000" 
                                        Height="24" 
                                        VerticalAlignment="Center">
                                    <StackPanel Orientation="Horizontal" 
                                              HorizontalAlignment="Center">
                                        <TextBlock x:Name="CurrentAltitudeText"
                                                 Foreground="Yellow"
                                                 FontSize="14"
                                                 VerticalAlignment="Center"
                                                 Margin="0,0,2,0"/>
                                        <TextBlock x:Name="AltitudeArrow"
                                                 Foreground="Yellow"
                                                 FontSize="14"
                                                 VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </Border>
                    </Grid>
                </Border>

                <!-- PSO Panel Container -->
                <Grid Panel.ZIndex="2" 
                      HorizontalAlignment="Right"
                      VerticalAlignment="Top"
                      Margin="10">

                    <!-- İki panel yan yana yerleşim için kolonlar -->
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="200"/>
                        <ColumnDefinition Width="200"/>
                    </Grid.ColumnDefinitions>

                    <!-- PSO Visualization Panel - Daha mat arka plan -->
                    <Border Grid.Column="0"
                            Height="Auto"
                            Background="#60000000"
                            BorderBrush="#40FFFFFF"
                            BorderThickness="1"
                            CornerRadius="8"
                            Effect="{StaticResource GlowEffect}"
                            Margin="0,0,5,0">
                        <Grid>
                            <TextBlock Text="PSO VISUALIZATION" 
                                      FontWeight="Bold" 
                                      Foreground="#FF00FF00"
                                      Margin="10,10,10,0"
                                      VerticalAlignment="Top"/>

                            <!-- Visualization Canvas -->
                            <Canvas x:Name="PsoVisualizationCanvas" 
                                    Width="180" Height="180" 
                                    Margin="10,40,10,10">
                                <!-- Grid Lines -->
                                <Rectangle Width="180" Height="180" 
                                          Stroke="#20FFFFFF" 
                                          StrokeThickness="1"
                                          StrokeDashArray="4,4"/>

                                <!-- Axis Labels -->
                                <TextBlock Text="0°" Foreground="#40FFFFFF" 
                                          Canvas.Left="5" Canvas.Top="160"/>
                                <TextBlock Text="360°" Foreground="#40FFFFFF" 
                                          Canvas.Right="5" Canvas.Top="160"/>
                                <TextBlock Text="90°" Foreground="#40FFFFFF" 
                                          Canvas.Left="5" Canvas.Top="5"/>
                            </Canvas>
                        </Grid>
                    </Border>

                    <!-- PSO Metrics Panel - Daha mat arka plan -->
                    <Border Grid.Column="1"
                            Height="Auto"
                            Background="#60000000"
                            BorderBrush="#40FFFFFF"
                            BorderThickness="1"
                            CornerRadius="8"
                            Effect="{StaticResource GlowEffect}"
                            Margin="5,0,0,0">

                        <StackPanel Margin="10">
                            <TextBlock Text="PSO METRICS" 
                                      FontWeight="Bold" 
                                      Foreground="#FF00FF00"/>

                            <StackPanel Margin="0,10,0,0">
                                <TextBlock Text="Best Position" 
                                          Foreground="#FFA0A0A0"/>
                                <StackPanel Orientation="Horizontal" 
                                           Margin="0,5">
                                    <TextBlock Text="H: " 
                                              Foreground="White"/>
                                    <TextBlock x:Name="BestPositionH" 
                                              Text="0°" 
                                              Foreground="#FF00FF00"/>
                                    <TextBlock Text=" V: " 
                                              Foreground="White" 
                                              Margin="10,0,0,0"/>
                                    <TextBlock x:Name="BestPositionV" 
                                              Text="0°" 
                                              Foreground="#FF00FF00"/>
                                </StackPanel>

                                <!-- Convergence Rate - Animasyonlu ve sistem durumundan değer alan -->
                                <TextBlock Text="Convergence Rate" 
                                          Foreground="#FFA0A0A0" 
                                          Margin="0,10,0,0"/>
                                <Grid Height="20">
                                    <ProgressBar x:Name="ConvergenceBar"
                                                Height="4"
                                                Width="150"
                                                Value="0"
                                                Maximum="100"
                                                Style="{StaticResource SignalStrengthBarStyle}"
                                                Foreground="#FF00FF00"
                                                VerticalAlignment="Center"
                                                 HorizontalAlignment="Left"/>
                                    <TextBlock x:Name="ConvergenceText"
                                             Text="0%"
                                             FontSize="10"
                                             Foreground="#FF00FF00"
                                             HorizontalAlignment="Left"
                                             VerticalAlignment="Top"
                                             Margin="155,1,0,0"/>
                                </Grid>

                                <TextBlock Text="Search Area" 
                                          Foreground="#FFA0A0A0" 
                                          Margin="0,10,0,0"/>
                                <TextBlock x:Name="SearchAreaText"
                                          Text="H: 360° × V: 90°"
                                          Foreground="#FF00FF00"/>

                                <TextBlock Text="Active Particles" 
                                          Foreground="#FFA0A0A0" 
                                          Margin="0,10,0,0"/>
                                <TextBlock x:Name="ParticleCountText"
                                          Text="0"
                                          Foreground="#FF00FF00"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </Grid>
            </Grid>
        </Border>

        <!-- Control Panel with Animation -->
        <Border x:Name="ControlPanel" 
                Grid.Column="1" 
                Style="{StaticResource ModernPanelStyle}"
                Width="300">
            <ScrollViewer VerticalScrollBarVisibility="Hidden">
                <StackPanel Margin="15">
                    <!-- Connection Panel -->
                    <Border Style="{StaticResource ModernPanelStyle}" 
                            Margin="0,0,0,10" 
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="CONNECTION" 
                                     FontSize="12" 
                                     FontWeight="SemiBold"
                                     Foreground="#FF00FF00"/>

                            <!-- Connection Form -->
                            <Grid Margin="0,10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="10"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBox x:Name="IpAddressTextBox" 
                                         Style="{StaticResource ModernTextBoxStyle}"
                                         Tag="IP Address"/>

                                <TextBox x:Name="PortTextBox" 
                                         Grid.Row="2"
                                         Style="{StaticResource ModernTextBoxStyle}"
                                         Tag="Port"/>
                            </Grid>

                            <!-- Status Indicator -->
                            <Grid Margin="0,10">
                                <Border Background="#FF2D2D2D" 
                                        CornerRadius="4" 
                                        Padding="10,5">
                                    <StackPanel Orientation="Horizontal">
                                        <Ellipse x:Name="ConnectionIndicator" 
                                                Width="8" Height="8" 
                                                Fill="Red" 
                                                Margin="0,0,8,0"/>
                                        <TextBlock x:Name="ConnectionStatus" 
                                                  Text="Disconnected"
                                                  VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Border>
                            </Grid>

                            <!-- Connection Buttons -->
                            <UniformGrid Columns="2" Margin="0,10,0,0">
                                <Button x:Name="ConnectButton" 
                                        Content="CONNECT" 
                                        Style="{StaticResource ModernButtonStyle}"
                                        Margin="0,0,5,0"/>
                                <Button x:Name="DisconnectButton" 
                                        Content="DISCONNECT" 
                                        Style="{StaticResource ModernButtonStyle}"
                                        Margin="5,0,0,0"
                                        IsEnabled="False"/>
                            </UniformGrid>
                        </StackPanel>
                    </Border>

                    <!-- Scanning Antenna Panel -->
                    <Border Style="{StaticResource ModernPanelStyle}" 
                            Margin="0,0,0,10" 
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="SCANNING ANTENNA" 
                                     FontSize="12" 
                                     FontWeight="SemiBold"
                                     Foreground="#FF00FF00"/>

                            <!-- Signal Strength Display -->
                            <Grid Margin="0,10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="Signal Strength" 
                                         Foreground="#FF808080"
                                         FontSize="11"/>

                                <ProgressBar x:Name="ScanSignalBar"
                                           Grid.Row="1"
                                           Style="{StaticResource SignalStrengthBarStyle}"
                                           Foreground="#FF00FF00"
                                           Maximum="100">
                                    <ProgressBar.Triggers>
                                        <EventTrigger RoutedEvent="ProgressBar.ValueChanged">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="Value"
                                                                   Duration="0:0:0.3"
                                                                   EasingFunction="{StaticResource EaseOutExpo}"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </ProgressBar.Triggers>
                                </ProgressBar>

                                <TextBlock x:Name="SignalStrength" 
                                         Grid.Row="2"
                                         Text="0%"
                                         FontSize="20"
                                         FontWeight="SemiBold"
                                         Foreground="#FF00FF00"/>
                            </Grid>

                            <!-- Scan Area Display -->
                            <TextBlock x:Name="ScanAreaSize"
                                     Text="Scan Area: 360°"
                                     FontSize="14"
                                     FontWeight="SemiBold"
                                     Foreground="#FF00FF00"
                                     Margin="0,5,0,0"/>

                            <!-- Angles Display -->
                            <UniformGrid Columns="2" Margin="0,15,0,0">
                                <!-- Horizontal Angle -->
                                <Border Background="#FF262626" 
                                        CornerRadius="4" 
                                        Margin="0,0,5,0" 
                                        Padding="10">
                                    <StackPanel>
                                        <TextBlock Text="Horizontal" 
                                                 Foreground="#FF808080"
                                                 FontSize="11"/>
                                        <TextBlock x:Name="ScanHAngle" 
                                                 Text="0°" 
                                                 FontSize="20"
                                                 FontWeight="SemiBold"
                                                 Foreground="#FF00FF00"/>
                                    </StackPanel>
                                </Border>

                                <!-- Vertical Angle -->
                                <Border Background="#FF262626" 
                                        CornerRadius="4" 
                                        Margin="5,0,0,0" 
                                        Padding="10">
                                    <StackPanel>
                                        <TextBlock Text="Vertical" 
                                                 Foreground="#FF808080"
                                                 FontSize="11"/>
                                        <TextBlock x:Name="ScanVAngle" 
                                                 Text="0°" 
                                                 FontSize="20"
                                                 FontWeight="SemiBold"
                                                 Foreground="#FF00FF00"/>
                                    </StackPanel>
                                </Border>
                            </UniformGrid>
                        </StackPanel>
                    </Border>

                    <!-- Directional Antenna Panel -->
                    <Border Style="{StaticResource ModernPanelStyle}" 
                            Margin="0,0,0,10" 
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="DIRECTIONAL ANTENNA" 
                                     FontSize="12" 
                                     FontWeight="SemiBold"
                                     Foreground="#FF00A0FF"/>

                            <!-- Signal Strength Display -->
                            <Grid Margin="0,10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="Signal Strength" 
                                         Foreground="#FF808080"
                                         FontSize="11"/>

                                <ProgressBar x:Name="DirSignalBar"
                                           Grid.Row="1"
                                           Style="{StaticResource SignalStrengthBarStyle}"
                                           Foreground="#FF00A0FF"
                                           Maximum="100"/>

                                <TextBlock x:Name="DirSignalText" 
                                         Grid.Row="2"
                                         FontSize="20"
                                         FontWeight="SemiBold"
                                         Foreground="#FF00A0FF">
                                    <Run Text="RSSI: "/>
                                    <Run x:Name="DirRssiValue" Text="-120.0"/>
                                    <Run Text=" dBm"/>
                                    <LineBreak/>
                                    <Run Text="SNR: "/>
                                    <Run x:Name="DirSnrValue" Text="0.0"/>
                                    <Run Text=" dB"/>
                                </TextBlock>
                            </Grid>

                            <!-- Angles Display -->
                            <UniformGrid Columns="2" Margin="0,15,0,0">
                                <!-- Horizontal Angle -->
                                <Border Background="#FF262626" 
                                        CornerRadius="4" 
                                        Margin="0,0,5,0" 
                                        Padding="10">
                                    <StackPanel>
                                        <TextBlock Text="Horizontal" 
                                                 Foreground="#FF808080"
                                                 FontSize="11"/>
                                        <TextBlock x:Name="DirHAngle" 
                                                 Text="0°" 
                                                 FontSize="20"
                                                 FontWeight="SemiBold"
                                                 Foreground="#FF00A0FF"/>
                                    </StackPanel>
                                </Border>

                                <!-- Vertical Angle -->
                                <Border Background="#FF262626" 
                                        CornerRadius="4" 
                                        Margin="5,0,0,0" 
                                        Padding="10">
                                    <StackPanel>
                                        <TextBlock Text="Vertical" 
                                                 Foreground="#FF808080"
                                                 FontSize="11"/>
                                        <TextBlock x:Name="DirVAngle" 
                                                 Text="0°" 
                                                 FontSize="20"
                                                 FontWeight="SemiBold"
                                                 Foreground="#FF00A0FF"/>
                                    </StackPanel>
                                </Border>
                            </UniformGrid>
                        </StackPanel>
                    </Border>

                    <!-- Aircraft Position Panel - NEW -->
                    <Border Style="{StaticResource ModernPanelStyle}" 
                            Margin="0,0,0,10" 
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="AIRCRAFT POSITION" 
                                     FontSize="12" 
                                     FontWeight="SemiBold"
                                     Foreground="#FFFF6000"/>

                            <!-- Angles Display -->
                            <UniformGrid Columns="2" Margin="0,15,0,0">
                                <!-- Horizontal Angle -->
                                <Border Background="#FF262626" 
                                        CornerRadius="4" 
                                        Margin="0,0,5,0" 
                                        Padding="10">
                                    <StackPanel>
                                        <TextBlock Text="Horizontal" 
                                                 Foreground="#FF808080"
                                                 FontSize="11"/>
                                        <TextBlock x:Name="AircraftHAngle" 
                                                 Text="0°" 
                                                 FontSize="20"
                                                 FontWeight="SemiBold"
                                                 Foreground="#FFFF6000"/>
                                    </StackPanel>
                                </Border>

                                <!-- Vertical Angle -->
                                <Border Background="#FF262626" 
                                        CornerRadius="4" 
                                        Margin="5,0,0,0" 
                                        Padding="10">
                                    <StackPanel>
                                        <TextBlock Text="Vertical" 
                                                 Foreground="#FF808080"
                                                 FontSize="11"/>
                                        <TextBlock x:Name="AircraftVAngle" 
                                                 Text="0°" 
                                                 FontSize="20"
                                                 FontWeight="SemiBold"
                                                 Foreground="#FFFF6000"/>
                                    </StackPanel>
                                </Border>
                            </UniformGrid>
                        </StackPanel>
                    </Border>

                    <!-- Control Buttons -->
                    <Border Style="{StaticResource ModernPanelStyle}" 
                            Margin="0,0,0,10" 
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="CONTROLS" 
                                     FontSize="12" 
                                     FontWeight="SemiBold"
                                     Foreground="White"/>

                            <Button x:Name="StartButton" 
                                   Content="START SCANNING" 
                                   Style="{StaticResource ModernButtonStyle}"
                                   Background="#FF1A4D1A"
                                   Height="40"
                                   Margin="0,10"/>

                            <Button x:Name="ResetButton" 
                                   Content="RESET" 
                                   Style="{StaticResource ModernButtonStyle}"
                                   Background="#FF4D1A1A"
                                   Height="40"/>
                        </StackPanel>
                    </Border>

                    <!-- Enhanced System Status -->
                    <Border Style="{StaticResource ModernPanelStyle}" 
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="SYSTEM STATUS" 
                                     FontSize="12" 
                                     FontWeight="SemiBold"
                                     Foreground="White"/>

                            <Border Background="#FF262626" 
                                    CornerRadius="4" 
                                    Padding="10" 
                                    Margin="0,10,0,0">
                                <StackPanel>
                                    <!-- Main Status -->
                                    <TextBlock x:Name="SystemStatus" 
                                             Text="System Initialized"
                                             Foreground="#FFFFA500"
                                             TextWrapping="Wrap"/>

                                    <TextBlock x:Name="StatusMessage" 
                                             Text="Ready"
                                             Foreground="#FF808080"
                                             TextWrapping="Wrap"
                                             Margin="0,5,0,0"/>

                                    <!-- Detailed System Info - Metinleri kısalttık -->
                                    <Border BorderBrush="#FF3D3D3D" 
                                            BorderThickness="0,1,0,0" 
                                            Margin="0,10">
                                        <StackPanel Margin="0,10,0,0">
                                            <TextBlock x:Name="ScanMode" 
                                                     Text="Mode: Initial Scan"
                                                     Foreground="#FFA0A0A0"
                                                     TextTrimming="CharacterEllipsis"/>

                                            <TextBlock x:Name="ScanProgress" 
                                                     Text="Progress: 0%"
                                                     Foreground="#FFA0A0A0"
                                                     Margin="0,5,0,0"/>

                                            <TextBlock x:Name="PsoInfo" 
                                                     Text="PSO: 0"
                                                     Foreground="#FFA0A0A0"
                                                     Margin="0,5,0,0"/>

                                            <TextBlock x:Name="ConvergenceInfo" 
                                                     Text="Conv: 0%"
                                                     Foreground="#FFA0A0A0"
                                                     Margin="0,5,0,0"/>

                                            <TextBlock x:Name="SearchAreaInfo" 
                                                     Text="Area: 360°"
                                                     Foreground="#FFA0A0A0"
                                                     Margin="0,5,0,0"/>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>
