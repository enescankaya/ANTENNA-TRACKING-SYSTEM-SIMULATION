<Window x:Class="Project.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:WindowsPresentation="clr-namespace:GMap.NET.WindowsPresentation;assembly=GMap.NET.WindowsPresentation"
        Title="RSSI Antenna Tracker" Height="800" Width="1200" 
        Background="#FF1A1A1A" 
        Loaded="MainWindow_Loaded">

    <Window.Resources>
        <!-- Improved Modern Button Style -->
        <Style x:Key="ModernButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#FF2D2D2D"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#FF3D3D3D"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4">
                            <Grid>
                                <ContentPresenter HorizontalAlignment="Center" 
                                                VerticalAlignment="Center"/>
                                <Border x:Name="Overlay" 
                                        Background="White" 
                                        Opacity="0"
                                        CornerRadius="4"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Overlay" Property="Opacity" Value="0.1"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Overlay" Property="Opacity" Value="0.2"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Improved TextBox Style -->
        <Style x:Key="ModernTextBoxStyle" TargetType="TextBox">
            <Setter Property="Background" Value="#FF2D2D2D"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#FF3D3D3D"/>
            <Setter Property="Padding" Value="8,5"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4">
                            <Grid>
                                <ScrollViewer x:Name="PART_ContentHost" Margin="2"/>
                                <TextBlock Text="{TemplateBinding Tag}" 
                                         Margin="8,0,0,0"
                                         VerticalAlignment="Center"
                                         Foreground="#FF808080">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Text.Length, RelativeSource={RelativeSource Mode=TemplatedParent}}" Value="0">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Text.Length, RelativeSource={RelativeSource Mode=TemplatedParent}}" Value="{x:Null}">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Text.Length, RelativeSource={RelativeSource Mode=TemplatedParent}}" Value="0">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding Text.Length, RelativeSource={RelativeSource Mode=TemplatedParent}}" Value="0" />
                                                        <Condition Binding="{Binding IsFocused, RelativeSource={RelativeSource Mode=TemplatedParent}}" Value="True" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Signal Strength Bar Style -->
        <Style x:Key="SignalStrengthBarStyle" TargetType="ProgressBar">
            <Setter Property="Height" Value="4"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ProgressBar">
                        <Grid>
                            <Border Background="#FF2D2D2D" 
                                    CornerRadius="2"/>
                            <Border x:Name="PART_Indicator" 
                                    Background="{TemplateBinding Foreground}"
                                    CornerRadius="2"
                                    HorizontalAlignment="Left">
                                <Border.Effect>
                                    <DropShadowEffect ShadowDepth="0" 
                                                    BlurRadius="10" 
                                                    Color="{Binding Background.Color, ElementName=PART_Indicator}"/>
                                </Border.Effect>
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Modern Panel Style -->
        <Style x:Key="ModernPanelStyle" TargetType="Border">
            <Setter Property="Background" Value="#FF2D2D2D"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#FF3D3D3D"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect ShadowDepth="0" 
                                    BlurRadius="10" 
                                    Color="#40000000"/>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <!-- Sağ panel için genişlik animasyonu -->
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto" x:Name="rightPanelColumn"/>
        </Grid.ColumnDefinitions>

        <!-- Map and Radar Section -->
        <Border Grid.Column="0" Style="{StaticResource ModernPanelStyle}">
            <Grid>
                <!-- Map Control -->
                <WindowsPresentation:GMapControl x:Name="MapControl" 
                                               Margin="5"
                                               MinZoom="2" 
                                               MaxZoom="17" 
                                               Zoom="13"/>

                <!-- Radar Overlay -->
                <Canvas x:Name="MapCanvas" Background="Transparent" IsHitTestVisible="False">
                    <!-- Radar Background - Boyutu küçültüldü -->
                    <Ellipse x:Name="RadarBackground"
                            Width="200" Height="200"
                            Fill="#20FFFFFF"
                            Stroke="#40FFFFFF"
                            StrokeThickness="1">
                        <Ellipse.Effect>
                            <BlurEffect Radius="2"/>
                        </Ellipse.Effect>
                    </Ellipse>

                    <!-- Radar Grid Lines - Boyutu küçültüldü -->
                    <Path x:Name="RadarGrid" Stroke="#30FFFFFF" StrokeThickness="1">
                        <Path.Data>
                            <GeometryGroup>
                                <EllipseGeometry Center="100,100" RadiusX="50" RadiusY="50"/>
                                <EllipseGeometry Center="100,100" RadiusX="75" RadiusY="75"/>
                                <LineGeometry StartPoint="0,100" EndPoint="200,100"/>
                                <LineGeometry StartPoint="100,0" EndPoint="100,200"/>
                            </GeometryGroup>
                        </Path.Data>
                    </Path>

                    <!-- Radar Sweep - Boyutu küçültüldü -->
                    <Path x:Name="RadarSweep" Fill="#4000FF00" Width="100" Height="100">
                        <Path.Effect>
                            <BlurEffect Radius="5"/>
                        </Path.Effect>
                    </Path>
                </Canvas>

                <!-- Toggle Panel Button -->
                <Button x:Name="TogglePanelButton"
                        Content="⟨"
                        Width="20"
                        Height="60"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Style="{StaticResource ModernButtonStyle}"
                        Click="TogglePanelButton_Click"/>
            </Grid>
        </Border>

        <!-- Control Panel with Animation -->
        <Border x:Name="ControlPanel" 
                Grid.Column="1" 
                Style="{StaticResource ModernPanelStyle}"
                Width="300">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="15">
                    <!-- Connection Panel -->
                    <Border Style="{StaticResource ModernPanelStyle}" 
                            Margin="0,0,0,10" 
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="CONNECTION" 
                                     FontSize="12" 
                                     FontWeight="SemiBold"
                                     Foreground="#FF00FF00"/>

                            <!-- Connection Form -->
                            <Grid Margin="0,10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="10"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBox x:Name="IpAddressTextBox" 
                                         Style="{StaticResource ModernTextBoxStyle}"
                                         Tag="IP Address"/>

                                <TextBox x:Name="PortTextBox" 
                                         Grid.Row="2"
                                         Style="{StaticResource ModernTextBoxStyle}"
                                         Tag="Port"/>
                            </Grid>

                            <!-- Status Indicator -->
                            <Grid Margin="0,10">
                                <Border Background="#FF2D2D2D" 
                                        CornerRadius="4" 
                                        Padding="10,5">
                                    <StackPanel Orientation="Horizontal">
                                        <Ellipse x:Name="ConnectionIndicator" 
                                                Width="8" Height="8" 
                                                Fill="Red" 
                                                Margin="0,0,8,0"/>
                                        <TextBlock x:Name="ConnectionStatus" 
                                                  Text="Disconnected"
                                                  VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Border>
                            </Grid>

                            <!-- Connection Buttons -->
                            <UniformGrid Columns="2" Margin="0,10,0,0">
                                <Button x:Name="ConnectButton" 
                                        Content="CONNECT" 
                                        Style="{StaticResource ModernButtonStyle}"
                                        Margin="0,0,5,0"/>
                                <Button x:Name="DisconnectButton" 
                                        Content="DISCONNECT" 
                                        Style="{StaticResource ModernButtonStyle}"
                                        Margin="5,0,0,0"
                                        IsEnabled="False"/>
                            </UniformGrid>
                        </StackPanel>
                    </Border>

                    <!-- Scanning Antenna Panel -->
                    <Border Style="{StaticResource ModernPanelStyle}" 
                            Margin="0,0,0,10" 
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="SCANNING ANTENNA" 
                                     FontSize="12" 
                                     FontWeight="SemiBold"
                                     Foreground="#FF00FF00"/>

                            <!-- Signal Strength Display -->
                            <Grid Margin="0,10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="Signal Strength" 
                                         Foreground="#FF808080"
                                         FontSize="11"/>

                                <ProgressBar x:Name="ScanSignalBar"
                                           Grid.Row="1"
                                           Style="{StaticResource SignalStrengthBarStyle}"
                                           Foreground="#FF00FF00"
                                           Maximum="100"/>

                                <TextBlock x:Name="SignalStrength" 
                                         Grid.Row="2"
                                         Text="0%"
                                         FontSize="20"
                                         FontWeight="SemiBold"
                                         Foreground="#FF00FF00"/>
                            </Grid>

                            <!-- Angles Display -->
                            <UniformGrid Columns="2" Margin="0,15,0,0">
                                <!-- Horizontal Angle -->
                                <Border Background="#FF262626" 
                                        CornerRadius="4" 
                                        Margin="0,0,5,0" 
                                        Padding="10">
                                    <StackPanel>
                                        <TextBlock Text="Horizontal" 
                                                 Foreground="#FF808080"
                                                 FontSize="11"/>
                                        <TextBlock x:Name="ScanHAngle" 
                                                 Text="0°" 
                                                 FontSize="20"
                                                 FontWeight="SemiBold"
                                                 Foreground="#FF00FF00"/>
                                    </StackPanel>
                                </Border>

                                <!-- Vertical Angle -->
                                <Border Background="#FF262626" 
                                        CornerRadius="4" 
                                        Margin="5,0,0,0" 
                                        Padding="10">
                                    <StackPanel>
                                        <TextBlock Text="Vertical" 
                                                 Foreground="#FF808080"
                                                 FontSize="11"/>
                                        <TextBlock x:Name="ScanVAngle" 
                                                 Text="0°" 
                                                 FontSize="20"
                                                 FontWeight="SemiBold"
                                                 Foreground="#FF00FF00"/>
                                    </StackPanel>
                                </Border>
                            </UniformGrid>
                        </StackPanel>
                    </Border>

                    <!-- Directional Antenna Panel -->
                    <Border Style="{StaticResource ModernPanelStyle}" 
                            Margin="0,0,0,10" 
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="DIRECTIONAL ANTENNA" 
                                     FontSize="12" 
                                     FontWeight="SemiBold"
                                     Foreground="#FF00A0FF"/>

                            <!-- Signal Strength Display -->
                            <Grid Margin="0,10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="Signal Strength" 
                                         Foreground="#FF808080"
                                         FontSize="11"/>

                                <ProgressBar x:Name="DirSignalBar"
                                           Grid.Row="1"
                                           Style="{StaticResource SignalStrengthBarStyle}"
                                           Foreground="#FF00A0FF"
                                           Maximum="100"/>

                                <TextBlock x:Name="DirSignalText" 
                                         Grid.Row="2"
                                         Text="0%"
                                         FontSize="20"
                                         FontWeight="SemiBold"
                                         Foreground="#FF00A0FF"/>
                            </Grid>

                            <!-- Angles Display -->
                            <UniformGrid Columns="2" Margin="0,15,0,0">
                                <!-- Horizontal Angle -->
                                <Border Background="#FF262626" 
                                        CornerRadius="4" 
                                        Margin="0,0,5,0" 
                                        Padding="10">
                                    <StackPanel>
                                        <TextBlock Text="Horizontal" 
                                                 Foreground="#FF808080"
                                                 FontSize="11"/>
                                        <TextBlock x:Name="DirHAngle" 
                                                 Text="0°" 
                                                 FontSize="20"
                                                 FontWeight="SemiBold"
                                                 Foreground="#FF00A0FF"/>
                                    </StackPanel>
                                </Border>

                                <!-- Vertical Angle -->
                                <Border Background="#FF262626" 
                                        CornerRadius="4" 
                                        Margin="5,0,0,0" 
                                        Padding="10">
                                    <StackPanel>
                                        <TextBlock Text="Vertical" 
                                                 Foreground="#FF808080"
                                                 FontSize="11"/>
                                        <TextBlock x:Name="DirVAngle" 
                                                 Text="0°" 
                                                 FontSize="20"
                                                 FontWeight="SemiBold"
                                                 Foreground="#FF00A0FF"/>
                                    </StackPanel>
                                </Border>
                            </UniformGrid>
                        </StackPanel>
                    </Border>

                    <!-- Control Buttons -->
                    <Border Style="{StaticResource ModernPanelStyle}" 
                            Margin="0,0,0,10" 
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="CONTROLS" 
                                     FontSize="12" 
                                     FontWeight="SemiBold"
                                     Foreground="White"/>

                            <Button x:Name="StartButton" 
                                   Content="START SCANNING" 
                                   Style="{StaticResource ModernButtonStyle}"
                                   Background="#FF1A4D1A"
                                   Height="40"
                                   Margin="0,10"/>

                            <Button x:Name="ResetButton" 
                                   Content="RESET" 
                                   Style="{StaticResource ModernButtonStyle}"
                                   Background="#FF4D1A1A"
                                   Height="40"/>
                        </StackPanel>
                    </Border>

                    <!-- System Status -->
                    <Border Style="{StaticResource ModernPanelStyle}" 
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="SYSTEM STATUS" 
                                     FontSize="12" 
                                     FontWeight="SemiBold"
                                     Foreground="White"/>

                            <Border Background="#FF262626" 
                                    CornerRadius="4" 
                                    Padding="10" 
                                    Margin="0,10,0,0">
                                <StackPanel>
                                    <TextBlock x:Name="SystemStatus" 
                                             Text="System Initialized"
                                             Foreground="#FFFFA500"/>

                                    <TextBlock x:Name="StatusMessage" 
                                             Text="Ready"
                                             Foreground="#FF808080"
                                             Margin="0,5,0,0"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>
